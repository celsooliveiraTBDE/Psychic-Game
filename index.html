<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Psychic Game</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" media="screen" href="assets/CSS/reset.css"/>
    <!-- <script src="main.js"></script> -->
    </head>

    <body>
    <!-- First Step: Create HTML here to render text according to the specs sent -->

        <h1>Psychic Game</h1>
        <div id="game">
        <h3>Guess what letter I'm thinking of</h3>
        </div>


        <script type="text/javascript">
        // Lists all possible values the CPU can choose from;

            var lettersArray=["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "X", "Z"]
            var lettersChosen=["_","_","_","_","_","_","_","_","_","_",]; 
            //  Choice vars and Counters for both player Wins and Losses   

            var CPUChoice; 
            var PlayerChoice; 
            var WinCount = 0; 
            var LossCount = 0; 
            var GuessesMade = 0; 

            
            document.onkeyup = function(event) {

                PlayerChoice = event.key.toUpperCase();
                // Determines which key was pressed and returns it capitalized - THANKS CLAY.
                // GuessesMade++; 
                CPUChoice = lettersArray[Math.floor(Math.random() * lettersArray.length)];
                // Select a random index from an array and stored it in the CPU Choice

                console.log("The CPU Choice is: "+CPUChoice); 
                console.log("The Number of Guesses is : "+GuessesMade); 

                if (PlayerChoice === CPUChoice){

                    WinCount++;

                    alert("WIN ! "+PlayerChoice+" Is Equal to "+CPUChoice); 
                    GuessesMade = 0; 
                    lettersChosen=["_","_","_","_","_","_","_","_","_","_",]; 

                }
                // If the answer is correct, player gets a point
                else{

                    LossCount++;
                    if (GuessesMade>9) {
                        alert ("I'm sorry, you lose, Starting Over")
                        GuessesMade = 0; 
                        lettersChosen=["_","_","_","_","_","_","_","_","_","_",]; 
                        }

                    GuessesMade++;
                    lettersChosen[GuessesMade] = PlayerChoice; 

                }
                        // If the answer is wrong, loss count goes up. 
                var html =
                    "<p>You chose: " + PlayerChoice + "</p>" +
                    "<p>The computer chose: " + CPUChoice + "</p>" +
                    "<p>wins: " + WinCount + "</p>" +
                    "<p>losses: " + LossCount + "</p>" +" and Tries: "+GuessesMade +
                    "<p>Letters Chosen: " + lettersChosen + "</p>";
            // Set the inner HTML contents of the #game div to our html string
                    document.querySelector("#game").innerHTML = html;
                
            }
        </script>
    </body>    
</html>